#
#GPL LICENSE SUMMARY
#
# Copyright(c) 2005-2009 Intel Corporation. All rights reserved.
#
# This program is free software; you can redistribute it and/or modify
# it under the terms of version 2 of the GNU General Public License as
# published by the Free Software Foundation.
#
# This program is distributed in the hope that it will be useful, but
# WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
# General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program; if not, write to the Free Software
# Foundation, Inc., 51 Franklin St - Fifth Floor, Boston, MA 02110-1301 USA.
# The full GNU General Public License is included in this distribution
# in the file called LICENSE.GPL.
#
# Contact Information
# Intel Corporation
# 2200 Mission College Blvd.
# Santa Clara, CA 97052
#
# This rule file originated from udev-120/etc/udev/rules.d/50-udev-default.rules
# Includes Intel Corporation's changes/modifications dated: 04/2008.
# Changed/modified portions - Copyright(c)2008, Intel Corporation. All rights reserved.
#
# do not edit this file, it will be overwritten on update
KERNEL=="ppp",			MODE="0600", OPTIONS+="ignore_remove"
KERNEL=="lirc0",		SYMLINK+="lirc"

# mem
KERNEL=="null|zero|full|random|urandom", MODE="0666"
KERNEL=="null",			SYMLINK+="XOR"
KERNEL=="ram0",			SYMLINK+="ramdisk"
KERNEL=="ram1",			SYMLINK+="ram"

# input
KERNEL=="mouse*|mice|event*",	NAME="input/%k", MODE="0640"
KERNEL=="ts[0-9]*|uinput",	NAME="input/%k", MODE="0600"
KERNEL=="js[0-9]*",		NAME="input/%k", MODE="0644", SYMLINK+="%k"

# video4linux
KERNEL=="vbi0",			SYMLINK+="vbi"
KERNEL=="radio0",		SYMLINK+="radio"
KERNEL=="video0",		SYMLINK+="video"

# graphics
KERNEL=="agpgart",		MODE="0600"
KERNEL=="card[0-9]*",		NAME="dri/%k", MODE="0666"
KERNEL=="fb0",			SYMLINK+="fb"

# DVB video
SUBSYSTEM=="dvb", PROGRAM="/bin/sh -c 'K=%k; K=$${K#dvb}; printf dvb/adapter%%i/%%s $${K%%%%.*} $${K#*.}'", NAME="%c"

# Firewire
KERNEL=="dv1394*",		SYMLINK+="dv1394/%n"
KERNEL=="video1394*",		NAME="video1394/%n"

# firmware class requests
SUBSYSTEM=="firmware", ACTION=="add", RUN+="firmware.sh"

# libusb device nodes
SUBSYSTEM=="usb", ACTION=="add", ENV{DEVTYPE}=="usb_device", NAME="bus/usb/$env{BUSNUM}/$env{DEVNUM}", MODE="0644"

# block, tapes, block-releated
SUBSYSTEM=="block", KERNEL=="sr[0-9]*", SYMLINK+="scd%n"
SUBSYSTEM=="block", KERNEL=="sd[a-z]*", RUN+="/etc/udev/rules.d/disk_automount.sh"
SUBSYSTEM=="mmc", KERNEL=="mmcblk[0-9]*", RUN+="/etc/udev/rules.d/disk_automount.sh"
SUBSYSTEM=="scsi", KERNEL=="[0-9]*:[0-9]*", ACTION=="add", ATTR{type}=="0|7|14", ATTR{timeout}="60"
SUBSYSTEM=="scsi", KERNEL=="[0-9]*:[0-9]*", ACTION=="add", ATTR{type}=="1", ATTR{timeout}="900"
KERNEL=="pktcdvd[0-9]*",	NAME="pktcdvd/%k"
KERNEL=="pktcdvd",		NAME="pktcdvd/control"
KERNEL=="qft0",			SYMLINK+="ftape"
SUBSYSTEM=="bsg",		NAME="bsg/%k"

# network
KERNEL=="tun",			NAME="net/%k", MODE="0666", OPTIONS+="ignore_remove"

# CPU
KERNEL=="cpu[0-9]*",		NAME="cpu/%n/cpuid"
KERNEL=="msr[0-9]*",		NAME="cpu/%n/msr"
KERNEL=="microcode",		NAME="cpu/microcode", MODE="0600"

# miscellaneous
KERNEL=="fuse",			MODE="0666"
KERNEL=="rtc|rtc0",		MODE="0644"
KERNEL=="rtc0",			SYMLINK+="rtc"
KERNEL=="auer[0-9]*",		NAME="usb/%k"
KERNEL=="hw_random",		NAME="hwrng", SYMLINK+="%k"
KERNEL=="mmtimer",		MODE="0644"
KERNEL=="rflash[0-9]*",		MODE="0400"
KERNEL=="rrom[0-9]*",		MODE="0400"
KERNEL=="sbpcd0",		SYMLINK+="sbpcd"
KERNEL=="slram[0-9]*", 		SYMLINK+="xpram%n"
KERNEL=="sxctl",		NAME="specialix_sxctl", SYMLINK+="%k"
KERNEL=="rioctl",		NAME="specialix_rioctl", SYMLINK+="%k"
KERNEL=="iowarrior[0-9]*",	NAME="usb/%k"

# do not delete static device nodes
ACTION=="remove", NAME=="?*", TEST=="/lib/udev/devices/$name", OPTIONS+="ignore_remove"

# event to be catched by udevmonitor
RUN+="socket:/org/kernel/udev/monitor"
